<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<title>Projeto Locadora de veiculos</title>
	<h:outputStylesheet library="css" name="estilo.css" />
	<link rel="StyleSheet" type="text/css" href="estilo.css" media="screen" />
</h:head>
	
<h:body>
	<h:form>
	<div id="div-header">
		<div id="div-flutuante">
			<div id="col-1">
				<div>
					<h:commandLink value="Home"
    				action="inicio"  immediate="true" />
				</div>
			</div>
			<div id="col-2">
			</div>
			<div id="col-3">
			</div>
			<div id="col-4">
			</div>	
		</div>
	</div>
</h:form>


	<h:form class="container" id="form1" enctype="multipart/form-data">
	
	<div id="div-form">
	<h2>Cadastro de Veículos</h2>
		<div class="row">
			<h:outputLabel value="Foto Veiculo" />
			<h:inputFile id="foto" value="#{veiculoBean.arquivoFoto}">Escolher Arquivo</h:inputFile>
		</div>
		<div class="row">
			<h:outputLabel>ID</h:outputLabel>
			<h:inputText id="ipt-id" class="input" readonly="true" value="#{veiculoBean.veiculo.id}"/>
		</div>
		<div class="row">
			<h:outputLabel>Modelo</h:outputLabel>
			<h:inputText id="ipt-modelo" class="input" value="#{veiculoBean.veiculo.modelo}"/>
		</div>
		<div class="row">
			<h:outputLabel>Marca</h:outputLabel>
			<h:inputText id="ipt-marca" class="input" value="#{veiculoBean.veiculo.marca}"/>
		</div>
		<div class="row">
			<h:selectOneMenu value="#{veiculoBean.veiculo.categoria}" converter="categoriaConverter">
				<f:selectItem itemDisabled="true" itemLabel="Categoria" />
				<f:selectItems value="#{veiculoBean.listaVeiculos}" 
				 />
				
			</h:selectOneMenu>
		</div>
		<div class="botoes">
			<h:commandButton class="botao botaoh" value="Salvar" action="#{veiculoBean.salvar()}"/>
			<h:commandButton class="botao botaoh" value="Novo" action="#{veiculoBean.novo()}"/>
			
		</div>
		
	</div>
	
	
	
	
	
	<div id="outra-div">
		<h:dataTable value="#{veiculoBean.veiculos}" var="v" cellspacing="0">
			<f:facet name="header">
                Veículos Cadastrados
            </f:facet>
              <h:column>
            	 <f:facet name = "header">Foto</f:facet> 
            	 <h:graphicImage width="60" height="60" style="border-radius:50px;"
							value="#{v.fotoIconBase64}" />
            </h:column>
            <h:column>
            	 <f:facet name = "header">ID</f:facet> 
            	<h:outputText value="#{v.id}" />
            </h:column>
            <h:column>
            	 <f:facet name = "header">Modelo</f:facet>    
            	<h:outputText value="#{v.modelo}" />
            </h:column>
            <h:column>
            	 <f:facet name = "header">Marca</f:facet>   
            	 <h:outputText value="#{v.marca}" />
            </h:column>
            <h:column>
            	 <f:facet name = "header">Categoria</f:facet> 
            	   <h:outputText value="#{v.categoria.nomeCategoria}" />
            </h:column>
            
            <h:column>
            	 <f:facet name = "header">Editar</f:facet> 
            	  <h:commandButton value="" image="/resources/img/icon-edt.png" class="btn">
            	  		<f:setPropertyActionListener value="#{v}" target="#{pessoaBean.veiculo}"/>
            	  </h:commandButton>
            	  
            </h:column>
            <h:column>
            	 <f:facet name = "header">Deletar</f:facet> 
            	   <h:commandButton value="" image="/resources/img/icon-dlt.png"
            	    class="btn" action="#{pessoaBean.deletar()}" >
            	    	<f:setPropertyActionListener value="#{v}" target="#{pessoaBean.veiculo}"/>
            	    </h:commandButton>
            </h:column>
		</h:dataTable>
	</div>
	</h:form>

	
</h:body>
</html>